"use strict";var config=require("./config"),express=require("express"),morgan=require("morgan"),compress=require("compression"),bodyParser=require("body-parser"),methodOverride=require("method-override"),session=require("express-session"),flash=require("connect-flash"),passport=require("passport");module.exports=function(){var app=express();return"development"===process.env.NODE_ENV?app.use(morgan("dev")):"production"===process.env.NODE_ENV&&app.use(compress()),app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),app.use(methodOverride()),app.use(session({saveUninitialized:!0,resave:!0,secret:config.sessionSecret})),app.set("views","./app/views"),app.set("view engine","ejs"),app.use(flash()),require("../app/routes/hotel-routes.js")(app),app.use(express.static("./public")),app};